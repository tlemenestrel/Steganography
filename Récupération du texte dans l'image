# Stéganographie - v0.1
# Ce script est un programme permet de récuperer le texte caché dans un image
# License libre CC
# Colin Laganier - Thomas Lemenestrel - 2017.12.13

from PIL import Image
im = Image.open("/Users/TLM/Desktop/Stéganographie.png") # On importe l'image avec le message codé
r,g,b,t=im.split() # On redivise l'image en rouge, vert, bleu transparent
redPix2=list(r.getdata())
#lecture de la longueur de la chaine
Listelong=[str(x%2) for x in redPix2[0:8]]
Stringlong="".join(Listelong)

Stringlong=int(Stringlong,2)
#lecture du message
MsgList=[str(x%2) for x in redPix2[8:8*(Stringlong+1)]]

MsgString="".join(MsgList)
message=""

for k in range(0,Stringlong):
    l=MsgString[8*k:8*k+8]
    message=message+chr(int(l,2))
print(message)
